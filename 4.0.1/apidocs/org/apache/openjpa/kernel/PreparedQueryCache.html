<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) -->
<title>PreparedQueryCache (OpenJPA Parent POM 4.0.1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.openjpa.kernel, interface: PreparedQueryCache">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/PreparedQueryCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.openjpa.kernel</a></div>
<h1 title="Interface PreparedQueryCache" class="title">Interface PreparedQueryCache</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="../lib/conf/Configurable.html" title="interface in org.apache.openjpa.lib.conf">Configurable</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../jdbc/kernel/PreparedQueryCacheImpl.html" title="class in org.apache.openjpa.jdbc.kernel">PreparedQueryCacheImpl</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">PreparedQueryCache</span><span class="extends-implements">
extends <a href="../lib/conf/Configurable.html" title="interface in org.apache.openjpa.lib.conf">Configurable</a></span></div>
<div class="block">A cache to create and maintain <a href="PreparedQuery.html" title="interface in org.apache.openjpa.kernel"><code>prepared queries</code></a>.

 To cache a PreparedQuery is two-stage process. In the first stage,
 <a href="#register(java.lang.String,org.apache.openjpa.kernel.Query,org.apache.openjpa.kernel.FetchConfiguration)"><code>register(String, Query, FetchConfiguration)</code></a> register}
 an identification key and a compiled Query Q to create a
 hollow PreparedQuery instance P in the cache. In the second stage, after Q
 executes, <a href="#initialize(java.lang.String,java.lang.Object)"><code>initialize(String, Object)</code></a> initialize} the hollow
 Prepared Query P from the result of execution such as the target
 database query PQ and its parameters. After initialization, P  can
 be used with re-parameterization for subsequent execution of the original
 Query Q.

 The target database query PQ associated to a cached prepared query P
 <em>may</em> depend upon query execution context such as fetch plan or
 lock group. This cache, by design, does not monitor the context or
 automatically invalidate an entry P when the original query Q is executed
 with context parameters that affect the target query PQ.

 The user must notify this receiver to invalidate a cached entry P when
 execution context changes in a way that will modify the resultant database
 language query PQ.

 One of the built-in mechanism (available in JPA facade) is to set query hints
 to either invalidate the query entirely or ignore the cached version for the
 current execution.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.0.0</dd>
<dt>Author:</dt>
<dd>Pinaki Poddar</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="QueryHints.html#HINT_IGNORE_PREPARED_QUERY"><code>QueryHints.HINT_IGNORE_PREPARED_QUERY</code></a></li>
<li><a href="QueryHints.html#HINT_INVALIDATE_PREPARED_QUERY"><code>This cache allows customization of whether a query can be cached or not
 via either explicit marking of certain keys as non-cachable (which is
 irreversible or <em>strong</em>) or addition/removal of exclusion patterns
 (which is reversible or <em>weak</em>).</code></a></li>
<li><code>#markUncachable(String)</code></li>
<li><a href="#addExclusionPattern(java.lang.String)"><code>addExclusionPattern(String)</code></a></li>
<li><a href="#setExcludes(java.lang.String)"><code>setExcludes(String)</code></a></li>
<li><a href="#removeExclusionPattern(java.lang.String)"><code>removeExclusionPattern(String)</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="PreparedQueryCache.Exclusion.html" class="type-name-link" title="interface in org.apache.openjpa.kernel">PreparedQueryCache.Exclusion</a></code></div>
<div class="col-last even-row-color">
<div class="block">A structure to describe the strength and reason for excluding a query from the cache.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addExclusionPattern(java.lang.String)" class="member-name-link">addExclusionPattern</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pattern)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds the given pattern to the list of excluded patterns.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#cache(org.apache.openjpa.kernel.PreparedQuery)" class="member-name-link">cache</a><wbr>(<a href="PreparedQuery.html" title="interface in org.apache.openjpa.kernel">PreparedQuery</a>&nbsp;q)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Cache the given PreparedQuery.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#clear()" class="member-name-link">clear</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Clears all cached queries.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="PreparedQuery.html" title="interface in org.apache.openjpa.kernel">PreparedQuery</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#get(java.lang.String)" class="member-name-link">get</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get the PreparedQuery with the given identifier if it exists. null
 otherwise.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getEnableStatistics()" class="member-name-link">getEnableStatistics</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Affirm if statistics is gathered.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="PreparedQueryCache.Exclusion.html" title="interface in org.apache.openjpa.kernel">PreparedQueryCache.Exclusion</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getExcludes()" class="member-name-link">getExcludes</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets the exclusion patterns.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getMapView()" class="member-name-link">getMapView</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get a map view of the cached queries indexed by identifier.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="QueryStatistics.html" title="interface in org.apache.openjpa.kernel">QueryStatistics</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getStatistics()" class="member-name-link">getStatistics</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets the simple statistics for executed queries.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="PreparedQuery.html" title="interface in org.apache.openjpa.kernel">PreparedQuery</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#initialize(java.lang.String,java.lang.Object)" class="member-name-link">initialize</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;executionResult)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Initialize the cached Prepared Query registered with the given
 key earlier by the given execution result.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#invalidate(java.lang.String)" class="member-name-link">invalidate</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Remove the PreparedQuery with the given identifier from this cache.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isCachable(java.lang.String)" class="member-name-link">isCachable</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Affirms if a PreparedQuery can be cached against the given key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="PreparedQueryCache.Exclusion.html" title="interface in org.apache.openjpa.kernel">PreparedQueryCache.Exclusion</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isExcluded(java.lang.String)" class="member-name-link">isExcluded</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the exclusion status of if the given query key.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="PreparedQuery.html" title="interface in org.apache.openjpa.kernel">PreparedQuery</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#markUncachable(java.lang.String,org.apache.openjpa.kernel.PreparedQueryCache.Exclusion)" class="member-name-link">markUncachable</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 <a href="PreparedQueryCache.Exclusion.html" title="interface in org.apache.openjpa.kernel">PreparedQueryCache.Exclusion</a>&nbsp;exclusion)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Marks the given key as not amenable to caching.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#register(java.lang.String,org.apache.openjpa.kernel.Query,org.apache.openjpa.kernel.FetchConfiguration)" class="member-name-link">register</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key,
 <a href="Query.html" title="interface in org.apache.openjpa.kernel">Query</a>&nbsp;query,
 <a href="FetchConfiguration.html" title="interface in org.apache.openjpa.kernel">FetchConfiguration</a>&nbsp;hints)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Register the given query for caching against the given key if it has not
 already been cached.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#removeExclusionPattern(java.lang.String)" class="member-name-link">removeExclusionPattern</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pattern)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Removes the given pattern from the list of excluded patterns.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setEnableStatistics(boolean)" class="member-name-link">setEnableStatistics</a><wbr>(boolean&nbsp;enable)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Enable/disable gathering of statistics.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setExcludes(java.lang.String)" class="member-name-link">setExcludes</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;excludes)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets one or more exclusion regular expression patterns separated by
 semicolon.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.openjpa.lib.conf.Configurable">Methods inherited from interface&nbsp;org.apache.openjpa.lib.conf.<a href="../lib/conf/Configurable.html" title="interface in org.apache.openjpa.lib.conf">Configurable</a></h3>
<code><a href="../lib/conf/Configurable.html#endConfiguration()">endConfiguration</a>, <a href="../lib/conf/Configurable.html#setConfiguration(org.apache.openjpa.lib.conf.Configuration)">setConfiguration</a>, <a href="../lib/conf/Configurable.html#startConfiguration()">startConfiguration</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="register(java.lang.String,org.apache.openjpa.kernel.Query,org.apache.openjpa.kernel.FetchConfiguration)">
<h3>register</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></span>&nbsp;<span class="element-name">register</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key,
 <a href="Query.html" title="interface in org.apache.openjpa.kernel">Query</a>&nbsp;query,
 <a href="FetchConfiguration.html" title="interface in org.apache.openjpa.kernel">FetchConfiguration</a>&nbsp;hints)</span></div>
<div class="block">Register the given query for caching against the given key if it has not
 already been cached. If the query can not be cached, then mark it as such
 to avoid computing for the same key again.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>TRUE the query is registered in the cache by this call
         null if the query is already registered in the cache
         FALSE if can not be registered in the cache, either because
         it is known not to be cacheable from a previous attempt or
         a hint is given to ignore the cached version.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="initialize(java.lang.String,java.lang.Object)">
<h3>initialize</h3>
<div class="member-signature"><span class="return-type"><a href="PreparedQuery.html" title="interface in org.apache.openjpa.kernel">PreparedQuery</a></span>&nbsp;<span class="element-name">initialize</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;executionResult)</span></div>
<div class="block">Initialize the cached Prepared Query registered with the given
 key earlier by the given execution result. If it is not possible to
 initialize the Prepared Query from the given execution result, then
 the corresponding key will be marked as invalid for caching.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the key used during registration</dd>
<dd><code>executionResult</code> - an opaque instance carrying the execution result
 of the original query.</dd>
<dt>Returns:</dt>
<dd>the initialized Prepared Query. If it is not possible to
 initialize the cached, possibly hollow Prepared Query from the given
 result, return null.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMapView()">
<h3>getMapView</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getMapView</span>()</div>
<div class="block">Get a map view of the cached queries indexed by identifier.</div>
</section>
</li>
<li>
<section class="detail" id="cache(org.apache.openjpa.kernel.PreparedQuery)">
<h3>cache</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">cache</span><wbr><span class="parameters">(<a href="PreparedQuery.html" title="interface in org.apache.openjpa.kernel">PreparedQuery</a>&nbsp;q)</span></div>
<div class="block">Cache the given PreparedQuery.
 The key is the identifier of the given PreparedQuery itself.
 The query must not be cached if either the key matches any exclusion
 pattern or the key has been marked non-cachable.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the given query is cached. false if it can not be cached
 due to exclusion.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><code>#markUncachable(String)</code></li>
<li><a href="#setExcludes(java.lang.String)"><code>setExcludes(String)</code></a></li>
<li><a href="#addExclusionPattern(java.lang.String)"><code>addExclusionPattern(String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="invalidate(java.lang.String)">
<h3>invalidate</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">invalidate</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Remove the PreparedQuery with the given identifier from this cache.</div>
</section>
</li>
<li>
<section class="detail" id="get(java.lang.String)">
<h3>get</h3>
<div class="member-signature"><span class="return-type"><a href="PreparedQuery.html" title="interface in org.apache.openjpa.kernel">PreparedQuery</a></span>&nbsp;<span class="element-name">get</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Get the PreparedQuery with the given identifier if it exists. null
 otherwise.</div>
</section>
</li>
<li>
<section class="detail" id="isCachable(java.lang.String)">
<h3>isCachable</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link">Boolean</a></span>&nbsp;<span class="element-name">isCachable</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Affirms if a PreparedQuery can be cached against the given key.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Boolean.FALSE if the given key is explicitly marked before as not
 be cached or matches any of the exclusion patterns.
 Boolean.TRUE if the given key currently exists in the cache.
 Otherwise, return null implying this receiver can not determine whether
 this key can be cached on not.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="markUncachable(java.lang.String,org.apache.openjpa.kernel.PreparedQueryCache.Exclusion)">
<h3>markUncachable</h3>
<div class="member-signature"><span class="return-type"><a href="PreparedQuery.html" title="interface in org.apache.openjpa.kernel">PreparedQuery</a></span>&nbsp;<span class="element-name">markUncachable</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 <a href="PreparedQueryCache.Exclusion.html" title="interface in org.apache.openjpa.kernel">PreparedQueryCache.Exclusion</a>&nbsp;exclusion)</span></div>
<div class="block">Marks the given key as not amenable to caching.
 Explicit marking helps to avoid repeated computational cost of
 determining whether a query can be cached or not.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - is the key to be excluded</dd>
<dd><code>exclusion</code> - directs whether exclusion is irreversible or not.</dd>
<dt>Returns:</dt>
<dd>The value for the given key if it had been cached before. null
 otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isExcluded(java.lang.String)">
<h3>isExcluded</h3>
<div class="member-signature"><span class="return-type"><a href="PreparedQueryCache.Exclusion.html" title="interface in org.apache.openjpa.kernel">PreparedQueryCache.Exclusion</a></span>&nbsp;<span class="element-name">isExcluded</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Returns the exclusion status of if the given query key.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>null implies that the key is not excluded.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getExcludes()">
<h3>getExcludes</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="PreparedQueryCache.Exclusion.html" title="interface in org.apache.openjpa.kernel">PreparedQueryCache.Exclusion</a>&gt;</span>&nbsp;<span class="element-name">getExcludes</span>()</div>
<div class="block">Gets the exclusion patterns.</div>
</section>
</li>
<li>
<section class="detail" id="setExcludes(java.lang.String)">
<h3>setExcludes</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setExcludes</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;excludes)</span></div>
<div class="block">Sets one or more exclusion regular expression patterns separated by
 semicolon. Any existing cache entry whose key matches any of the given
 pattern will be marked non-cachable in a reversible manner.</div>
</section>
</li>
<li>
<section class="detail" id="addExclusionPattern(java.lang.String)">
<h3>addExclusionPattern</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">addExclusionPattern</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pattern)</span></div>
<div class="block">Adds the given pattern to the list of excluded patterns. Any existing
 cache entry whose key matches the given pattern will be marked
 non-cachable in a reversible manner.</div>
</section>
</li>
<li>
<section class="detail" id="removeExclusionPattern(java.lang.String)">
<h3>removeExclusionPattern</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">removeExclusionPattern</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pattern)</span></div>
<div class="block">Removes the given pattern from the list of excluded patterns.
 Any excluded key that matches the given pattern can now be cached
 again, unless it has been marked non-cachable explicitly.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#markUncachable(java.lang.String,org.apache.openjpa.kernel.PreparedQueryCache.Exclusion)"><code>markUncachable(String, Exclusion)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clear()">
<h3>clear</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">clear</span>()</div>
<div class="block">Clears all cached queries.</div>
</section>
</li>
<li>
<section class="detail" id="setEnableStatistics(boolean)">
<h3>setEnableStatistics</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setEnableStatistics</span><wbr><span class="parameters">(boolean&nbsp;enable)</span></div>
<div class="block">Enable/disable gathering of statistics.</div>
</section>
</li>
<li>
<section class="detail" id="getEnableStatistics()">
<h3>getEnableStatistics</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">getEnableStatistics</span>()</div>
<div class="block">Affirm if statistics is gathered.</div>
</section>
</li>
<li>
<section class="detail" id="getStatistics()">
<h3>getStatistics</h3>
<div class="member-signature"><span class="return-type"><a href="QueryStatistics.html" title="interface in org.apache.openjpa.kernel">QueryStatistics</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getStatistics</span>()</div>
<div class="block">Gets the simple statistics for executed queries.
 If the statistics gathering is disabled, an empty statistics is returned.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2006&#x2013;2024 <a href="http://www.apache.org">Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
