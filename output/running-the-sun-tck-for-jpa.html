<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<html lang="en">
    <head>
        <META http-equiv="Content-Type" content="text/html;charset=UTF-8" />
        <link href="/styles/site.css" rel="stylesheet" type="text/css"/>
        <!-- <link href="/styles/type-settings.css" rel="stylesheet" type="text/css"/> -->
        <link href="/css/type-settings.css" rel="stylesheet" type="text/css"/>
        <LINK rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
        <META name="Description" content="Apache OpenJPA -- Running the Sun TCK for JPA" />
        <META name="Keywords" content="Apache OpenJPA, JPA, JPA 1.0, JSR-220, JPA2, JPA 2.0, JSR-317, " />
        <META name="Owner" content="dev@openjpa.apache.org" />
        <META name="Robots" content="index, follow" />
        <META name="Security" content="Public" />
        <META name="Source" content="wiki template" />
        <META name="DC.Date" scheme="iso8601" content="2010-08-11" />
        <META name="DC.Language" scheme="rfc1766" content="en" />
        <META name="DC.Rights" content="Copyright Â© 2006,2024 The Apache Software Foundation" />
        <META http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))'/>
	<style>
.headerlink {
  visibility: hidden;
}
dt:hover > .headerlink, p:hover > .headerlink, td:hover > .headerlink, h1:hover > .headerlink, h2:hover > .headerlink, h3:hover > .headerlink, h4:hover > .headerlink, h5:hover > .headerlink, h6:hover > .headerlink {
  visibility: visible
}	</style>
        <title>Apache OpenJPA -- Running the Sun TCK for JPA</title>
    </head>
    <body>
        <div class="white_box">
            <div class="header">
                <div class="header_l">
                    <div class="header_r">
                    </div>
                </div>
            </div>
            <div class="content">
                <div class="content_l">
                    <div class="content_r">
                        <div>
                            <!-- Banner -->
                            <TABLE valign="top" border="0" cellspacing="0" cellpadding="5" width="100%" background="images/header-bg3.png">
                                <TR>
                                    <TD valing="top" align="left">
                                        <A href="https://openjpa.apache.org/"><IMG src="/images/openjpa-logo.png" border="0" alt="OpenJPA Logo"></A>
                                    </TD>
                                    <TD width="100%">
                                        &nbsp;
                                    </TD>
                                    <TD valing="top" align="right">
                                        <A href="https://www.apache.org/"><IMG src="/images/asf_logo_wide2.png" border="0" alt="ASF Logo"></A>
                                    </TD>
                                </TR>
                            </TABLE>

                            <!-- Navigation Bar -->
                            <div class="bottom_red_bar">
                                <div id="site-breadcrumbs">
                                </div>
                            </div>

                            <!-- Content -->
                            <table border="0">
                                <tbody>
                                    <tr>
                                        <td valign="top">
                                            <div class="navigation">
                                                <div class="navigation_top">
                                                    <div class="navigation_bottom">
                                                        <!-- NavigationBar -->
                                                        <h3><a name="SideNav-Overview"></a><a href="/overview.html" title="Overview">Overview</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/quick-start.html" title="Quick Start">Quick Start</a></li>
                                                            <li><a href="/downloads.html" title="Downloads">Downloads</a></li>
                                                            <li><a href="/documentation.html" title="Documentation">Documentation</a></li>
                                                            <li><a href="/site-index.html" title="Site Index">Site Index</a></li>
                                                            <li><a href="/license.html" title="License">License</a></li>
                                                            <li><a href="/privacy-policy.html" title="Privacy Policy">Privacy Policy</a></li>
                                                        </ul>

                                                        <h3><a name="SideNav-Community"></a><a href="/community.html" title="Community">Community</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/index.html#Index-eventsandnews" title="Events and News">Events and News</a></li>
                                                            <li><a href="/found-a-bug.html" title="Found a Bug">Found a Bug</a>?</li>
                                                            <li><a href="/get-involved.html" title="Get Involved">Get Involved</a></li>
                                                            <li><a href="/mailing-lists.html" title="Mailing Lists">Mailing Lists</a></li>
                                                            <li><a href="/committers.html" title="Committers">Committers</a></li>
                                                            <li><a href="/integration.html" title="Integration">Integration</a></li>
                                                            <li><a href="/powered-by.html" title="Powered By">Powered By</a></li>
                                                            <li><a href="/thanks.html" title="Thanks">Thanks</a></li>
                                                        </ul>


                                                        <h3><a name="SideNav-Development"></a><a href="/development.html" title="Development">Development</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/downloads-nightly.html" title="Downloads">Nightly Downloads</a></li>                                        
                                                            <li><a href="/source-code.html" title="Source Code">Source Code</a></li>
                                                            <li><a href="/testing.html" title="Testing">Testing</a></li>
                                                            <li><a href="https://issues.apache.org/jira/browse/OPENJPA" class="external-link" rel="nofollow">Issue Tracker</a></li>
                                                            <li><a href="/tools.html" title="Tools">Tools</a></li>
                                                            <li><a href="/samples.html" title="Samples">Samples</a></li>
                                                            <li><a href="/release-management.html" title="Release Management">Release Management</a></li>
                                                        </ul>

                                                        <h3><a name="SideNav-Consumers"></a><a href="/consumers.html" title="Consumers">Consumers</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/tips-n-techniques.html" title="Tips and Techniques">Tips and Techniques</a></li>
                                                            <li><a href="/troubleshoot.html" title="Trouble Shoot">Trouble Shoot</a></li>
                                                        </ul>

                                                        <h3>Search</h3>

                                                        <div style="padding: 5px 5px 0px 25px;">
                                                            <form action="https://www.google.com/search" method="get" style="font-size: 10px;">
                                                                <input name="ie" type="hidden" value="UTF-8">
                                                                <input name="oe" type="hidden" value="UTF-8">
                                                                <input maxlength="255" name="q" size="15" type="text" value=""><br><br>
                                                                <input name="btnG" type="submit" value="Google">
                                                                <input name="domains" type="hidden" value="openjpa.apache.org">
                                                                <input name="sitesearch" type="hidden" value="openjpa.apache.org">
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td valign="top" width="100%" style="overflow:hidden;">
                                            <div class="wiki-content">
    <p><a name="RunningtheSunTCKforJPA-RunningtheSunTCKforJPA"></a></p>
<h1 id="running-the-sun-tck-for-jpa">Running the Sun TCK for JPA<a class="headerlink" href="#running-the-sun-tck-for-jpa" title="Permalink">&para;</a></h1>
<p>Sun's Technology Compatibility Kit for JPA is available to OpenJPA
committers (other TCKs are available to Apache committers in general).</p>
<p><a name="RunningtheSunTCKforJPA-RequestingaccesstotheTCK"></a></p>
<h2 id="requesting-access-to-the-tck">Requesting	access to the TCK<a class="headerlink" href="#requesting-access-to-the-tck" title="Permalink">&para;</a></h2>
<ol>
<li>Review the section "Testing with TCKs" on the <a href="http://www.apache.org/jcp/priorhistory.html">Apache JCP participation page</a></li>
<li>The OpenJPA project has already requested access.</li>
<li>Sign the <a href="http://www.apache.org/jcp/ApacheNDA.pdf">Apache NDA</a>.</li>
<li>Send the signed form to ASF Secretary <a href="mailto:secretary@apache.org">secretary@apache.org</a>.
Per email with the Secretary, a scan (pdf) of the signed form is fine.</li>
<li>After the NDA has been accepted, then you need to request access to the TCK svn repository via a note to <a href="mailto:jcp-open@apache.org">jcp-open@apache.org</a>.</li>
<li>Monitor both your private e-mail and the jcp-open mailing list for the confirmation e-mail that you now have access to the TCK svn repository.</li>
</ol>
<p>The most up to date and complete information can be found on the <a href="http://www.apache.org/jcp/priorhistory.html">Apache JCP participation page</a>.</p>
<h2 id="once-you-have-a-copy-of-the-tck-you-can-execute-the-tck-bucket-in-maven">Once you have a copy of the TCK you can execute the TCK bucket in maven.<a class="headerlink" href="#once-you-have-a-copy-of-the-tck-you-can-execute-the-tck-bucket-in-maven" title="Permalink">&para;</a></h2>
<ol>
<li>
<p><a href="https://svn.apache.org/repos/tck/sun-tcks/persistence/2.0/jpatck-2.0_15-Aug-2011.zip">URL for latest JPA 2.0 TCK</a> (authorization gives you access to the full TCK tree)</p>
</li>
<li>
<p>Copy the JPA 2 tck to ${user.home}/.m2/privaterepos/jpatck-2.0_15-Aug-2011.zip</p>
</li>
<li>
<p>Run the integration-test maven goal from the openjpa-integration/tck directory:</p>
<pre><code> $  mvn integration-test -Ptck2-profile
</code></pre>
</li>
</ol>
<p>More information on running the TCK can be found in the <a href="http://svn.apache.org/repos/asf/openjpa/trunk/openjpa-integration/tck/pom.xml">pom.xml file for the tck module</a> and the corresponding <a href="http://svn.apache.org/repos/asf/openjpa/trunk/openjpa-integration/tck/tck2-20110815.xml">ant script for the current tck</a>.</p>
<h2 id="what-to-do-with-a-new-revision-of-the-tck">What to do with a new revision of the TCK<a class="headerlink" href="#what-to-do-with-a-new-revision-of-the-tck" title="Permalink">&para;</a></h2>
<p>Periodically, the TCK is updated by Oracle.  This may be a maintenance release, or it may be due to a new release of the JPA specification.
In either case, there are a few steps that need to be performed to recognize and execute this updated TCK test bucket.</p>
<ol>
<li>Create an xml file specific to the updated TCK.  The name is based off the TCK level and date of the release.
The easiest way is to copy an existing version (ie. tck2-20110815.xml).</li>
<li>Update this entry in the newly created xml file to point at the downloaded TCK zip file name:<br/>
&lt; property name="tck.level" value="jpatck-2.0_15-Aug-2011" \&gt;</li>
<li>Update the openjpa-integration/tck/pom.xml by modifying this entry appropriately:<br/>
&lt; tck2.level &gt;20110815&lt; /tck2.level&gt;</li>
<li>You may also need to create a new tckx-profile, if it's required for a new release of the specification.  I'll leave that as an exercise for
the next editor...</li>
</ol>

                                            </div>
                                        </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="bottom_red_bar"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="black_box">
                    <div class="footer">
                        <div class="footer_l">
                            <div class="footer_r">
                                <div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="design_attribution">
                Copyright &copy; 2006,2024 The Apache Software Foundation. Licensed under <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>.<br />
                Apache, the Apache feather logo and OpenJPA are trademarks of The Apache Software Foundation.<br />
                Other names may be trademarks of their respective owners.<br />
            </div>
    </body>
</html>