<html>
<title>Release Notes for OpenJPA</title>
<body>
<h1>Release Notes for OpenJPA</h1>

<ul>
<li><a href="#Overview">Overview</a></li>
<li><a href="#License">License</a></li>
<li><a href="#Prerequisites">Prerequisites</a></li>
<li><a href="#Documentation">Documentation</a></li>
<li><a href="#GetInvolved">Getting Involved</a></li>
</ul>

<h2><a name="Overview"></a>Overview</h2>

<p> These notes describe the difference between OpenJPA release 1.0.2 and the
preceding releases. 1.0 is the first major release since OpenJPA graduated 
to an Apache top level project (TLP), and contains many new features and 
bugfixes.
<P>
OpenJPA is a feature-rich implementation of the persistence part of 
Java Community Process JSR-220 (Enterprise JavaBeans 3.0), which is
known as the Java Persistence API (JPA).
OpenJPA can be used as a stand-alone POJO persistence layer, or it can be
integrated into any EJB3.0 compliant container and many lightweight frameworks.
This release of OpenJPA is 100% compliant with the JPA specification.
</p>

<p>
Additional information on the OpenJPA project may be found at the project web 
site: <a href="http://openjpa.apache.org">
http://openjpa.apache.org</a>

<h2><a name="License"></a>License</h2>
<P>Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

<BR><P><a href="http://www.apache.org/licenses/LICENSE-2.0">
http://www.apache.org/licenses/LICENSE-2.0</a>

<BR><P>Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.

<BR><P>The license may also be found in LICENSE.txt which is included 
in each release of OpenJPA. 

<h2><a name="Prerequisites"></a>Prerequisites</h2>
<P>
In normal usage, OpenJPA requires Java 5 or higher and a relational 
database of some sort.

<h2><a name="Documentation"></a>Documentation</h2>
<p>If you have questions about OpenJPA, a good source of information is the 
online product manual. You can find the manual for the current release as well
as older releases of OpenJPA at 
<a href="http://openjpa.apache.org/documentation.html">
http://openjpa.apache.org/documentation.html</a>
<p>If you can't find what you're looking for in the manual or would like more
clarification you please post to the OpenJPA development mailing list.
Information on all of the OpenJPA mailing lists may be found here:
<a href="http://openjpa.apache.org/mailing-lists.html">
http://openjpa.apache.org/mailing-lists.html</a>

<p>
<h2><a name="GetInvolved"></a>Getting Involved</h2>
<p>
The Apache OpenJPA project is being built by the open source community for the 
open source community - we welcome your input and contributions!
<P>
What we are looking for
<ul>
    <li> Source code and fixes contributions </li>
    <li> Documentation assistance </li>
    <li> Product and feature suggestions </li>
    <li> Detailed and constructive feedback </li>
    <li> Articles and whitepapers </li>
</ul>
<p>
How do I Contribute?
<ul>
    <li> To discuss Apache OpenJPA topics check out the mailing lists. </li>
    <li> Informal discussion also occurs on the #openjpa IRC channel on 
         freenode.net. </li>
    <li> Bugs and other issues can be posted on the project JIRA. </li>
</ul>

<h1><a name="1.0.2">OpenJPA 1.0.2 Release Notes</a></h1>

<h2>        Bugs
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-135'>OPENJPA-135</a>] -         join fetch not returning duplicate references which not conforming to ejb3.0 spec
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-211'>OPENJPA-211</a>] -         CLONE -java.lang.VerifyError on websphere 6.1 with Spring 2.0.3 and OpenJpa 0.96/0.97
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-251'>OPENJPA-251</a>] -         org.apache.openjpa.enhance.Reflection.getDeclaredMethod() has undefined behavior, leading to VM-dependent crashes
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-258'>OPENJPA-258</a>] -         MetaDataInheritanceComparator is not transitive; C &gt; B &gt; A &gt; C leads to out-of-memory crash in PCEnhancer
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-322'>OPENJPA-322</a>] -         Timezone on the Calendar object lost in proxying
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-329'>OPENJPA-329</a>] -         Generic interface may cause the openjpa Reflection code to pickup the wrong getter method
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-331'>OPENJPA-331</a>] -         Allow BigInteger and other Basic types as Primary Keys
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-366'>OPENJPA-366</a>] -         InternalException thrown in BrokerImpl.endOperation
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-367'>OPENJPA-367</a>] -         PCEnhancer does not find meta data for entities using pure XML annotation
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-370'>OPENJPA-370</a>] -         LoadFetchGroup annotation was not recognized during the fetch1
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-401'>OPENJPA-401</a>] -         UnsatisfiedLinkError in MappingToolTask when using DB2 JDBC driver 
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-419'>OPENJPA-419</a>] -         Merging graphs that include managed instances fails
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-420'>OPENJPA-420</a>] -         JPQL constructor query close the &lt;SELECT DISTINCT&gt; feature? 
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-437'>OPENJPA-437</a>] -         EntityManagerFactory is not thread-safe
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-446'>OPENJPA-446</a>] -         Problem when setting String fields of detached objects
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-447'>OPENJPA-447</a>] -         Query pagination broken for non-DB2 databases
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-452'>OPENJPA-452</a>] -         Error in the XML equivalent in the &quot;secondary table field mapping&quot; example
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-471'>OPENJPA-471</a>] -         iSeries DB2 problem with using @GeneratedValue(strategy=GenerationType.IDENTITY)
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-472'>OPENJPA-472</a>] -         iSeries DB2 problem with using @GeneratedValue(strategy=GenerationType.SEQUENCE ...) 
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-476'>OPENJPA-476</a>] -         Query.setFirstResult and Query.setMaxResults don't take effect
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-506'>OPENJPA-506</a>] -         PreRemove method callback is never called; PreUpdate is always called
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-508'>OPENJPA-508</a>] -         JPQL EXISTS clauses do not handle subclasses properly
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-511'>OPENJPA-511</a>] -         Unable to execute native queries which start with the WITH keyword. 
</li>
</ul>

<h1><a name="1.0.1">OpenJPA 1.0.1 Release Notes</a></h1>

<h2>        Bugs
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-113'>OPENJPA-113</a>] -         when you specify columm table=&quot;empbean&quot;  in the xml file entity id or basic type when empbean is the default table name, the mapping tool generates extra foreign key field (eg.EmpBean_empid) in the table produced.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-282'>OPENJPA-282</a>] -         Postgresql does not support deferred unique constraints.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-295'>OPENJPA-295</a>] -         ArrayIndexOutofBoundsException when under load and within a managed Transaction
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-326'>OPENJPA-326</a>] -         NPE if a discriminator column is specified without discriminator type in orm.xml
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-335'>OPENJPA-335</a>] -         Logic in getters for entities with property access causes the PCEnhancer to hang
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-339'>OPENJPA-339</a>] -         Java 2 security Access denied in File.toURL() call
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-343'>OPENJPA-343</a>] -         Do not call setRollbackOnly on inactive Transactions
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-346'>OPENJPA-346</a>] -         PCEnhancerAgent backwards-compatibility setting overly-enables enhancement
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-347'>OPENJPA-347</a>] -         Performance Issue with Lazy Loaded Foreign Keys
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-353'>OPENJPA-353</a>] -         Character discriminators are not converted correctly if storeCharsAsNumbers = true
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-355'>OPENJPA-355</a>] -         OpenJPA Log4J factory incorrectly handles logging level
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-356'>OPENJPA-356</a>] -         DB2 requires CASTs when parameters appear in SELECT clause
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-357'>OPENJPA-357</a>] -         Use case where FetchGroup A includes FecthGroup B is not honoured by fetch operations
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-358'>OPENJPA-358</a>] -         Recursion Depth for Field f should be calculated w.r.t active fetch groups and not all fetch groups
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-360'>OPENJPA-360</a>] -         SQL FOR UPDATE OF incorrectly generated for DB2/NT SQL0816
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-361'>OPENJPA-361</a>] -         Incorrect GREG_OFFSET offset or inconsistent usage in UUIDGenerator
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-367'>OPENJPA-367</a>] -         PCEnhancer does not find meta data for entities using pure XML annotation
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-368'>OPENJPA-368</a>] -         Multithreaded client fails randomly on EntityManager.persist() with out transaction context.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-369'>OPENJPA-369</a>] -         AccessDeclaredMembers RuntimePermission requires by Solaris JDK with security enabled
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-372'>OPENJPA-372</a>] -         PCEnhancer throws away its classloader
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-375'>OPENJPA-375</a>] -         DB2 autoCommit(true) causes Result Set prematurely closed in WebContainer JEE environment.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-378'>OPENJPA-378</a>] -         DB2 SQL incorrectly generating &quot;FETCH FIRST n ROWS ONLY&quot; in subselects
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-380'>OPENJPA-380</a>] -         Connecting to database when an unused emf is closed 
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-382'>OPENJPA-382</a>] -         Overriding column names for Byte[] attributes causes exception.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-385'>OPENJPA-385</a>] -         IndexOutOfBounds exception when parsing &quot;.class&quot; files
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-387'>OPENJPA-387</a>] -         Getting &quot;java.lang.ClassNotFoundException&quot; when loading datacache plug-in which is a class outside of OpenJPA package.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-388'>OPENJPA-388</a>] -         MappingToolTask can't find persistence meta data. 
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-389'>OPENJPA-389</a>] -         em.getTransaction().commit() is not issuing database commit for NativeQuery requesting updates
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-394'>OPENJPA-394</a>] -         DB2 CAST VARCHAR type missing LENGTH
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-395'>OPENJPA-395</a>] -         Accessing short Foreign Key metadata fields as ints causes problems on iSeries
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-396'>OPENJPA-396</a>] -         Cloning Calendar proxies doesn't detach from StateManager
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-397'>OPENJPA-397</a>] -         schematool ant task always requires files
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-399'>OPENJPA-399</a>] -         openjpa did not handle multiple schema names with same table name
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-401'>OPENJPA-401</a>] -         UnsatisfiedLinkError in MappingToolTask when using DB2 JDBC driver 
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-402'>OPENJPA-402</a>] -         Unable to detect an valid Entity's meta data when the entity's .class file size is large.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-403'>OPENJPA-403</a>] -         LoadFetchGroup patch (OPENJPA-370) introduces NPE
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-405'>OPENJPA-405</a>] -         need extract space in the message text
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-409'>OPENJPA-409</a>] -         Quick message updates
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-410'>OPENJPA-410</a>] -         Change &quot;connecting to dictionary&quot; message from Info to Trace
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-413'>OPENJPA-413</a>] -         Fix some message text in the localizer.properties files
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-415'>OPENJPA-415</a>] -         Garbage collection of AbstractResultList instance closes active connection
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-416'>OPENJPA-416</a>] -         Unclear exception if an unknown external value is used
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-421'>OPENJPA-421</a>] -         OpenJPA generates bad SQL before configuration fully populated
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-422'>OPENJPA-422</a>] -         Calendar objects contained in a detached Entity still have a &quot;live&quot; StateManagerImpl
</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-423'>OPENJPA-423</a>] -         Deadlock victim exception getting sequence value with SQLServer
</li>
</ul>
    
<h2>        Sub-tasks
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-408'>OPENJPA-408</a>] -         Improve error processing for openjpa.RuntimeUnenhancedClasses property settings
</li>
</ul>
                
<h2>        Improvements
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-338'>OPENJPA-338</a>] -         Remove unnecessary CAST in SQL statement for DB2
</li>
</ul>


<h1><a name="1.0.0">OpenJPA 1.0.0 Release Notes</a></h1>

 
<h2> Bugs fixed
</h2>
<ul>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-61'>OPENJPA-61</a>] - Missing usage of TransactionSynchronizationRegistry
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-86'>OPENJPA-86</a>] - &quot;uuid-hex&quot; generator does not make affect in orm.xml
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-143'>OPENJPA-143</a>] - Problems with Single Table Inheritance Strategy (and Discriminator Type of Integer)
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-165'>OPENJPA-165</a>] - QueryImpl.setFirstResult does not take already set maxResults into account
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-177'>OPENJPA-177</a>] - When using NOT NULL constraint on foreign key it is not possible to use CascadeType.ALL and GeneratedId
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-199'>OPENJPA-199</a>] - bulk update gets parsing exception trying to update an attribute of an embedded class
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-244'>OPENJPA-244</a>] - Java 2 Security enablement
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-248'>OPENJPA-248</a>] - ForeignKey cascade delete action not working
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-257'>OPENJPA-257</a>] - Getter/Setter type inconsistency in Entity IdClass
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-269'>OPENJPA-269</a>] - Informix doesn't support subselects or using table aliases in a delete statement. 
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-271'>OPENJPA-271</a>] - DB2 missing JDBC driver 2 support
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-272'>OPENJPA-272</a>] - @GenerateValue (AUTO) doesn't work with Property level access
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-274'>OPENJPA-274</a>] - JPQL queries cannot access version fields, including bulk updates
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-278'>OPENJPA-278</a>] - OpenJPAQuery.getDataStoreActions() returns an empty String array
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-280'>OPENJPA-280</a>] - Enhancement failure for inherited fields introduced with change 532137
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-281'>OPENJPA-281</a>] - EAGER not the default fetch type without the @Basic annotation
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-284'>OPENJPA-284</a>] - TableJDBCSeq for GeneratedValue.TABLE did not handle initialValue correctly
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-285'>OPENJPA-285</a>] - Multiple deploy/undeploy leaks memory in PCRegistry
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-287'>OPENJPA-287</a>] - Generated methods on superclasses are not visible to subclasses
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-294'>OPENJPA-294</a>] - Exception while enchnancing  the java classes using OpenJPA PCEnhancerTask  with build.xml
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-296'>OPENJPA-296</a>] - UUID algorithm generating non-unique values sometimes
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-304'>OPENJPA-304</a>] - Problems with DepthFirstAnalysis and the IBM JDK
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-308'>OPENJPA-308</a>] - Postgres: bytea vs. oid handling in PreparedStatement.setNull() calls
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-311'>OPENJPA-311</a>] - Problem loading classes with OSGi classloaders
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-312'>OPENJPA-312</a>] - derby fails with duplicate primary key(s) in group by list
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-313'>OPENJPA-313</a>] - list of objects returned by query partially correct
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-314'>OPENJPA-314</a>] - Unenhanced complex id in MappedSuperclass causes NPE
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-315'>OPENJPA-315</a>] - Unenhanced generated id field of a primitive wrapper type causes NPE
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-320'>OPENJPA-320</a>] - Do not use System Tables (SYS*) with DB2
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-321'>OPENJPA-321</a>] - DB2 ABS Casting problem
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-322'>OPENJPA-322</a>] - Timezone on the Calendar object lost in proxying
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-323'>OPENJPA-323</a>] - Cleanup some message text
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-256'>OPENJPA-256</a>] - java.lang.ClassNotFoundException: org.apache.openjpa.util.CacheMap in a jetty spring environment
</li>
</ul>

<h2> Sub-task
</h2>
<ul>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-279'>OPENJPA-279</a>] - Fixed missing lookup for non-jta-data-source in JDBCConfigurationImpl.
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-297'>OPENJPA-297</a>] - Lazy loading must be ignored in certain unenhanced cases
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-298'>OPENJPA-298</a>] - Miscellaneous documentation improvements
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-299'>OPENJPA-299</a>] - Provide a means to enable the old enhancing agent
</li>
</ul>
 
<h2> Improvements
</h2>
<ul>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-259'>OPENJPA-259</a>] - Ability to parse EJB QL multiline queries in orm.xml
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-266'>OPENJPA-266</a>] - Add Extensibility: Change &quot;private&quot; field/method to &quot;protected&quot; or &quot;public&quot;  in OpenJPA classes to be extendable
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-275'>OPENJPA-275</a>] - Bulk updates: version information should be automatically maintained when the query does not
</li>
</ul>
 
<h2> New Feature
</h2>
<ul>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-168'>OPENJPA-168</a>] - sql optimize n rows query hint
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-239'>OPENJPA-239</a>] - Option for the reverse mapping tool to generate mapping annotations
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-262'>OPENJPA-262</a>] - Event notification of BrokerFactory creation
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-263'>OPENJPA-263</a>] - Introducing getAll(List) method for data cache to be called by loadAll() will allow data cache plug-ins to leverage the advantage of any third-party cache that provides a way to get multiple object in one call by providing a list of keys (oids).
</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-317'>OPENJPA-317</a>] - API formalization pre-1.0
</li>
</ul>

<h1><a name="0.9.7">OpenJPA 0.9.7 Release Notes</a></h1>

<h2>Bugs</h2>
The following bugs have been fixed for release 0.9.7
<ul>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-16'>OPENJPA-16</a>] - NPE in createQuery for EJB QL with nested correlated subqueries</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-21'>OPENJPA-21</a>] - Time is missing from list of mutable classes.</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-22'>OPENJPA-22</a>] - locate & substring queries fail both db2 & derby, cannot use parameter markers in expression ?-?</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-23'>OPENJPA-23</a>] - -418 sqlexception using DB2 and EJB QL with SQRT or MOD</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-24'>OPENJPA-24</a>] - Allow OpenJPA to be extensible</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-25'>OPENJPA-25</a>] - Incorrect SQL generated for queries involving more than one AbstractSchemaNames, generated SQL FROM clause is missing 'Table alias'</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-35'>OPENJPA-35</a>] - In-memory Delete operation fails with active DataCache</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-41'>OPENJPA-41</a>] - transforming classes doesn't work</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-48'>OPENJPA-48</a>] -  parsing error - cast of subselect does not work</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-50'>OPENJPA-50</a>] - bad sql pushdown, cast changes datatype</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-53'>OPENJPA-53</a>] -  bad sql pushdown for nested subselects, missing nested subselect</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-54'>OPENJPA-54</a>] - bad sql pushdown, should use all syntax</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-56'>OPENJPA-56</a>] - in derby concat with input parameter needs a cast, otherwise becomes long varchar and some operations do not work</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-60'>OPENJPA-60</a>] - Specifying the wrong persistence implementation in persistence.xml leads to misleading error message</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-62'>OPENJPA-62</a>] - Ejbql join queries show invalid null Entities when run in a new persistence context where no entity instances exist.</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-71'>OPENJPA-71</a>] - Caching primitive array types consumes excessive memory</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-77'>OPENJPA-77</a>] - Problems in default setting in DB2Dictionary , also missing support for DB2 z/OS platforms</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-80'>OPENJPA-80</a>] - Bad Escaping for LIKE in MySQL</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-98'>OPENJPA-98</a>] - Java deadlock when insert in t1 and find in t2 when using IBM JVM 1.5.0</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-100'>OPENJPA-100</a>] - <jar-file> entries failing to be processed for persistence unit rooted in an EAR</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-102'>OPENJPA-102</a>] - JTA transaction rollback, nonexistant instances, transactional persistence context => failures during afterCompletion() and close()</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-103'>OPENJPA-103</a>] - Default Listeners not being processed correctly</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-104'>OPENJPA-104</a>] - OpenJPA does not detach instances on rollback()</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-107'>OPENJPA-107</a>] - @SqlResultSetMappings fails in mapping tool with java.lang.ArrayStoreException</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-108'>OPENJPA-108</a>] - @AttributeOverrides fails in mapping tool with java.lang.ArrayStoreException</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-109'>OPENJPA-109</a>] - every NativeQuery using SqlResultSetMapping fails at runtime with There is no query result mapping for "null" with name "xxx" when the entity is persisted in a different method than the method doing the query.  </li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-110'>OPENJPA-110</a>] - Every NamedNativeQuery using ResultSetMapping fails at runtime with class cast exception when try to iterate over list<Some Entity></li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-111'>OPENJPA-111</a>] - native queries fail when use named parameters</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-115'>OPENJPA-115</a>] - Bottleneck(s) with using OpenJPA in a Container-managed environment</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-116'>OPENJPA-116</a>] - EntityManager.getDelegate should throw an IllegalStateException </li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-118'>OPENJPA-118</a>] - AutoDetach property has no effect</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-119'>OPENJPA-119</a>] - EntityManager.clear() should not implicitly invoke the flush operation</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-121'>OPENJPA-121</a>] - Table name defaults to the class name instead of the entity name</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-122'>OPENJPA-122</a>] - EntityManager does not throw exceptions after close() in required cases</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-132'>OPENJPA-132</a>] - java.lang.NoSuchMethodError for entity with ID of type java.sql.Date</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-133'>OPENJPA-133</a>] - Can't find non-public callback methods with superclass or interface parameters</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-134'>OPENJPA-134</a>] - Extra unneeded SQL joins for OneToMany relationship with fetch type EAGER</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-139'>OPENJPA-139</a>] - PersistenceException merging an entity with a Calendar field. </li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-140'>OPENJPA-140</a>] - Wrong package name in test classes</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-142'>OPENJPA-142</a>] - Entity name is ignored when specified in the orm.xml file</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-144'>OPENJPA-144</a>] - JDBCConfigurationImpl does not support JNDI lookup for non-jta-data-source.  </li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-146'>OPENJPA-146</a>] - Entity enhancement fails while using EmbeddedId on a MappedSuperclass</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-150'>OPENJPA-150</a>] - @Column in @AttributeOverride not honoring table attribute that maps to a secondary table in mappedsuperclass entity</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-154'>OPENJPA-154</a>] - OptimisticLockException working with  Savepoints</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-155'>OPENJPA-155</a>] -  java.lang.ArrayIndexOutOfBoundsException during commit</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-157'>OPENJPA-157</a>] - NullPointerException when running query with null parameter</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-162'>OPENJPA-162</a>] - @OrderBy on @OneToMany does not allow ordering by @Id value</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-174'>OPENJPA-174</a>] - error when find()'ing an abstract class</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-175'>OPENJPA-175</a>] - Eager selects by PagingResultObjectProvider may not use the FetchBatchSize</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-179'>OPENJPA-179</a>] - Schemas defined in orm.xml are only applied when a name is also specified. </li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-181'>OPENJPA-181</a>] - ClassCastException when executing bulk delete on an entity that owns a OneToOne with a Cascade.DELETE when DataCache is on</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-185'>OPENJPA-185</a>] - optional attribute is not overriden by xml descriptor</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-186'>OPENJPA-186</a>] - Build failure of OpenJPA sources from trunk</li>
</ul>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-202'>OPENJPA-202</a>] - after invoking LRS processing in a client by calling an @LRS annotated relationship, the next em.clear()/em.close() gets org.apache.openjpa.persistence.InvalidStateException: You cannot transfer large result set fields from one object or field to another</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-208'>OPENJPA-208</a>] - NoResultException and NonUniqueResultException are not thrown when expected</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-214'>OPENJPA-214</a>] - Need to support floating point primary keys</li>
</ul>
    
<h2>Improvements</h2>
Improvements made for release 0.9.7
<ul>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-10'>OPENJPA-10</a>] - persistence unit name should be default diagnostic context for standard OpenJPA log impl</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-37'>OPENJPA-37</a>] - Support ant typedefs for OpenJPA tasks</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-55'>OPENJPA-55</a>] - Allow executeUpdate() invocations on native queries</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-57'>OPENJPA-57</a>] - persistence_1_0.xsd is missing</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-63'>OPENJPA-63</a>] - Better pessimistic lock support for DB2 v8.2+</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-151'>OPENJPA-151</a>] - Added field in enhanced vesrion of a class is not serialized. Hence the change in detached+serialized instances is not registered under certain conditions.  </li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-153'>OPENJPA-153</a>] - WebSphere and non-jta-data-source and default ManagedRuntime</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-158'>OPENJPA-158</a>] - OpenJPA logs overly-verbose at INFO level</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-161'>OPENJPA-161</a>] - Overuse of synchronization in AbstractBrokerFactory</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-166'>OPENJPA-166</a>] - Track the reason why a setRollbackOnly invocation was made</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-176'>OPENJPA-176</a>] - Exception prefixes should be human-readable</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-196'>OPENJPA-196</a>] - Ease the restrictions on forcing a matche between the number of declared and assigned positional parameters</li>
</ul>
    
<h2>New Features</h2>
Features added for release 0.9.7
<ul>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-92'>OPENJPA-92</a>] - Support for H2 Database Engine</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-93'>OPENJPA-93</a>] - Sequence generation in a JTA environment should not require non-JTA datasource</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-94'>OPENJPA-94</a>] - Allow MappingTool and persistence.xml to support drop-create for database schema</li>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-182'>OPENJPA-182</a>] - db2 update lock syntax WITH <isolation> USE AND KEEP UPDATE LOCKS</li>
</ul>



<h2>Task</h2>
Tasks done for release 0.9.7
<ul>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-36'>OPENJPA-36</a>] - Add cwiki url to incubator status page</li>
</ul>
    
<h2>Test</h2>
Additional testing done for release 0.9.7
<ul>
<li>[<a href='http://issues.apache.org/jira/browse/OPENJPA-40'>OPENJPA-40</a>] - Testing OpenJPA and Spring integration fails</li>
</ul>


 
</body>
</html>

