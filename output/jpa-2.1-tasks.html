<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<html lang="en">
    <head>
        <META http-equiv="Content-Type" content="text/html;charset=UTF-8" />
        <link href="/styles/site.css" rel="stylesheet" type="text/css"/>
        <!-- <link href="/styles/type-settings.css" rel="stylesheet" type="text/css"/> -->
        <link href="/css/type-settings.css" rel="stylesheet" type="text/css"/>
        <LINK rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
        <META name="Description" content="Apache OpenJPA -- JPA 2.1 Tasks" />
        <META name="Keywords" content="Apache OpenJPA, JPA, JPA 1.0, JSR-220, JPA2, JPA 2.0, JSR-317, " />
        <META name="Owner" content="dev@openjpa.apache.org" />
        <META name="Robots" content="index, follow" />
        <META name="Security" content="Public" />
        <META name="Source" content="wiki template" />
        <META name="DC.Date" scheme="iso8601" content="2010-08-11" />
        <META name="DC.Language" scheme="rfc1766" content="en" />
        <META name="DC.Rights" content="Copyright Â© 2006,2025 The Apache Software Foundation" />
        <META http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))'/>
	<style>
.headerlink {
  visibility: hidden;
}
dt:hover > .headerlink, p:hover > .headerlink, td:hover > .headerlink, h1:hover > .headerlink, h2:hover > .headerlink, h3:hover > .headerlink, h4:hover > .headerlink, h5:hover > .headerlink, h6:hover > .headerlink {
  visibility: visible
}	</style>
        <title>Apache OpenJPA -- JPA 2.1 Tasks</title>
    </head>
    <body>
        <div class="white_box">
            <div class="header">
                <div class="header_l">
                    <div class="header_r">
                    </div>
                </div>
            </div>
            <div class="content">
                <div class="content_l">
                    <div class="content_r">
                        <div>
                            <!-- Banner -->
                            <TABLE valign="top" border="0" cellspacing="0" cellpadding="5" width="100%" background="images/header-bg3.png">
                                <TR>
                                    <TD valing="top" align="left">
                                        <A href="https://openjpa.apache.org/"><IMG src="/images/openjpa-logo.png" border="0" alt="OpenJPA Logo"></A>
                                    </TD>
                                    <TD width="100%">
                                        &nbsp;
                                    </TD>
                                    <TD valing="top" align="right">
                                        <A href="https://www.apache.org/"><IMG src="/images/asf_logo_wide2.png" border="0" alt="ASF Logo"></A>
                                    </TD>
                                </TR>
                            </TABLE>

                            <!-- Navigation Bar -->
                            <div class="bottom_red_bar">
                                <div id="site-breadcrumbs">
                                </div>
                            </div>

                            <!-- Content -->
                            <table border="0">
                                <tbody>
                                    <tr>
                                        <td valign="top">
                                            <div class="navigation">
                                                <div class="navigation_top">
                                                    <div class="navigation_bottom">
                                                        <!-- NavigationBar -->
                                                        <h3><a name="SideNav-Overview"></a><a href="/overview.html" title="Overview">Overview</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/quick-start.html" title="Quick Start">Quick Start</a></li>
                                                            <li><a href="/downloads.html" title="Downloads">Downloads</a></li>
                                                            <li><a href="/documentation.html" title="Documentation">Documentation</a></li>
                                                            <li><a href="/site-index.html" title="Site Index">Site Index</a></li>
                                                            <li><a href="/license.html" title="License">License</a></li>
                                                            <li><a href="/privacy-policy.html" title="Privacy Policy">Privacy Policy</a></li>
                                                        </ul>

                                                        <h3><a name="SideNav-Community"></a><a href="/community.html" title="Community">Community</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/index.html#Index-eventsandnews" title="Events and News">Events and News</a></li>
                                                            <li><a href="/found-a-bug.html" title="Found a Bug">Found a Bug</a>?</li>
                                                            <li><a href="/get-involved.html" title="Get Involved">Get Involved</a></li>
                                                            <li><a href="/mailing-lists.html" title="Mailing Lists">Mailing Lists</a></li>
                                                            <li><a href="/committers.html" title="Committers">Committers</a></li>
                                                            <li><a href="/integration.html" title="Integration">Integration</a></li>
                                                            <li><a href="/powered-by.html" title="Powered By">Powered By</a></li>
                                                            <li><a href="/thanks.html" title="Thanks">Thanks</a></li>
                                                        </ul>


                                                        <h3><a name="SideNav-Development"></a><a href="/development.html" title="Development">Development</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/downloads-nightly.html" title="Downloads">Nightly Downloads</a></li>                                        
                                                            <li><a href="/source-code.html" title="Source Code">Source Code</a></li>
                                                            <li><a href="/testing.html" title="Testing">Testing</a></li>
                                                            <li><a href="https://issues.apache.org/jira/browse/OPENJPA" class="external-link" rel="nofollow">Issue Tracker</a></li>
                                                            <li><a href="/tools.html" title="Tools">Tools</a></li>
                                                            <li><a href="/samples.html" title="Samples">Samples</a></li>
                                                            <li><a href="/release-management.html" title="Release Management">Release Management</a></li>
                                                        </ul>

                                                        <h3><a name="SideNav-Consumers"></a><a href="/consumers.html" title="Consumers">Consumers</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/tips-n-techniques.html" title="Tips and Techniques">Tips and Techniques</a></li>
                                                            <li><a href="/troubleshoot.html" title="Trouble Shoot">Trouble Shoot</a></li>
                                                        </ul>

                                                        <h3>Search</h3>

                                                        <div style="padding: 5px 5px 0px 25px;">
                                                            <form action="https://www.google.com/search" method="get" style="font-size: 10px;">
                                                                <input name="ie" type="hidden" value="UTF-8">
                                                                <input name="oe" type="hidden" value="UTF-8">
                                                                <input maxlength="255" name="q" size="15" type="text" value=""><br><br>
                                                                <input name="btnG" type="submit" value="Google">
                                                                <input name="domains" type="hidden" value="openjpa.apache.org">
                                                                <input name="sitesearch" type="hidden" value="openjpa.apache.org">
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td valign="top" width="100%" style="overflow:hidden;">
                                            <div class="wiki-content">
    <p><a name="Task List"></a></p>
<h2 id="openjpa-21-tasks">OpenJPA 2.1 Tasks<a class="headerlink" href="#openjpa-21-tasks" title="Permalink">&para;</a></h2>
<table class="note"><tr>
<td valign="top"> <img border="0" height="16" src="images/warning.gif" width="16"/>
<td>Under Construction...  This is just an initial cut...  We will need these tasks further broken down into
manageable two week iteration chunks of work...  And, I have probably forgotten some new features or minor update...  We will also need to create corresponding JIRAs to get the 
code integrated...
<br/><br/>But, this will give us an idea of the amount of work ahead of us...  	
 </td></td></tr></table>
<p><a name="JPA2.1Tasks-GeneralTasks"></a></p>
<h3 id="general-preliminary-tasks">General (Preliminary) Tasks<a class="headerlink" href="#general-preliminary-tasks" title="Permalink">&para;</a></h3>
<table>
<tr><th> Status </th><th> JIRA </th><th> Summary </th></tr>
<tr><td class="border"> <font color="red">Done</font> </td><td class="border"> Not Needed
 </td><td class="border"> Need to cut an OpenJPA 2.3.0 release and associated service stream</td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Upgrade to <a href="https://wikis.oracle.com/display/GlassFish/Java+EE+7+Maven+Coordinates">JPA 2.1 interfaces</a> in trunk</td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Evaluate <a href="https://svn.apache.org/repos/asf/openjpa/sandboxes/21">Pinaki's 2.1 sandbox</a> and merge with trunk (post 2.3.0 release)</td></tr>
<tr><td class="border"> <font color="red">Done</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-2459">OPENJPA-2459</a>
</td><td class="border"> Upgrade trunk to Java 7 for build and test</td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Prep for JPA 2.1 TCK <a href="http://openjpa.apache.org/running-the-sun-tck-for-jpa.html">(Existing JPA 2.0 TCK instructions)</a> </td></tr>
<!--
<tr><td class="border"> <font color="green">Complete</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-1103">OPENJPA-1103</a>
 </td><td class="border"> Remove early-access disclaimer from the NOTICE files once the spec is
released </td></tr>
-->
</table>
<p><a name="JPA2.1Tasks-JPA2.1SpecFeatures"></a></p>
<h3 id="jpa-21-spec-features">JPA 2.1 Spec Features<a class="headerlink" href="#jpa-21-spec-features" title="Permalink">&para;</a></h3>
<table>
<tr><th> Status </th><th> JIRA(s) </th><th> Effort </th><th> Summary </th><th> Area </th><th> JPA 2.1 Spec
Reference(s) </th></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> High </td><td class="border"> Add ON condition to JPQL query.  
<br/><br/>Will require BNF change (see jpql.jjt). Can ripple across the codebase. </td><td class="border"> JPQL </td><td class="border">
4.4.5.2, 4.14 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> High </td><td class="border"> Downcast relation paths with TREAT operator in JPQL queries.  Will require BNF change. The BNF changes will be non-trivial as TREAT can appear as a path component e.g. p.TREAT(p.items as Book).pageCount.  
<br/><br/>JPQLEpressionBuilder will require change to process the treated path. The downstream changes on building the appropriate expression will not be a heavy task as the current kernel expressions support the notion of implicit types.
 </td><td class="border"> JPQL </td><td class="border">
4.4, 4.4.4.1, 4.4.5, 4.4.9, 4.6.16, 4.14 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Low </td><td class="border"> Use database function or user-defined function with FUNCTION operator in JPQL queries The support for this feature exists. The task is mainly to parse (JPQLEpressionBuilder) and connect to the appropriate kernel expression.
 </td><td class="border"> JPQL </td><td class="border">
4.6.17.3, 4.14 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Low </td><td class="border"> Object construction in mapping results from native SQL query The support for this feature exists in ResultShape object. 
 </td><td class="border"> Query </td><td class="border">
3.10.16.2.2, 3.10.16.3, 12.3 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Medium </td><td class="border"> Add ON condition to Criteria Query The on() function is to be added to each derivation of Join separately because of generic signature of the method.
 </td><td class="border"> Criteria </td><td class="border">
4.4.5.2, 6.3.17, 6.3.20, 6.3.21, 6.3.22, 6.3.23, 6.5.3 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Medium </td><td class="border"> Add TREAT operator in Criteria query Each derivation of Path interface will require a downcast construct e.g. a class like PathImpl$Treated because the return type of the classes that implement path has generic type signature in OpenJPA implementation. A downcast (or treated) path must have a different generic signature for compile-time type checking.
 </td><td class="border"> Criteria </td><td class="border">
6.3.1, 6.5.7 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Medium </td><td class="border"> Delete via Criteria query. The design challenge for this task is to reuse the existing code for query portion of existing implementation.
 </td><td class="border"> Criteria </td><td class="border">
6.3.1, 6.3.6, 6.5.15 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Medium </td><td class="border"> Update via Criteria query. Same comment as the above task. The good news is that the refactoring has been done.
 </td><td class="border"> Criteria </td><td class="border">
6.3.1, 6.3.5, 6.5.15 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Very High </td><td class="border"> Invoke Stored Procedure. The basic support for CallableStatement exists in OpenJPA. However, this feature is going to impact several aspects of current query execution model. A stored procedure can result into multiple types of result sets while the current execution model assumes that a query returns a single type of result. It is unclear at this point how best to handle such multiplicity. Also parameter processing (always a rather weak/heuristic aspect of OpenJPA) requires extension. 
 </td><td class="border"> Query </td><td class="border">
3.1.1, 3.10.17, 10.4.3, 10.4.4, 12.2, 12.2.2.9, 12.2.3.20, 12.3 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Low </td><td class="border"> Bulk update of the members of an embeddable collection.
 </td><td class="border"> Query </td><td class="border">
3.10.16.1 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Medium </td><td class="border"> Context Dependency Injection via Entity Listeners
 </td><td class="border"> Listeners </td><td class="border">
3.5.1, 9.1 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Medium </td><td class="border"> Create EntityManager with SynchronizationType.UNSYNCHRONIZED. Unsynchorized context requires to be explicitly joined to a JTA transaction, as opposed to SYNCHRONIZED contexts that are automatically joined to a JTA transaction if available.
<br/><br/>If an unsynchronized context is not joined to a transaction, queries with pessimistic locks, bulk update or delete queries will throw the TransactionRequiredException.
<br/><br/>The context propgation rules differ and certain restrictions apply when the context is unsynchronized.
<br/><br/>A new method of EntityManager affirms if a context has joined a transaction.
<br/><br/>It is recommended that a non-JTA datasource be specified for use by the persistence provider for a persistence context of type SynchronizationType.UNSYNCHRONIZED that has not been joined to a JTA transaction in order to alleviate the risk of integrating uncommitted changes into the persistence context in the event that the transaction is later rolled back.
<br/><br/>Container implications as well...
 </td><td class="border"> Transactions </td><td class="border">
3.3, 3.3.1, 7.2.1, 7.4, 7.6.1, 7.6.2, 7.6.3, 7.6.4.1 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> High </td><td class="border"> Type conversion of basic attributes. The basic support for conversion exists as Externalizer. But the new conversion facility covers a wider type of properties that can be externalized. Also specification to convert the data type can be attached to the class definition. Such a feature is not available in OpenJPA.
 </td><td class="border"> EM </td><td class="border">
3.8 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Medium </td><td class="border"> Conversion facility.
<br/><br/>Parsing @Converter annotation or XML descriptor.
<br/><br/>Type conversion of embeddable attributes.
<br/><br/>Type conversion of collection members.
<br/><br/>Type conversion of key/value of Map type persistent property.
<br/><br/>Accept converter specification at a class level declaration.
 </td><td class="border"> EM </td><td class="border">
11.1.10, 11.1.11, 12.3 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> Low </td><td class="border"> Support adding named query via EntityManagerFactory.addNamedQuery() method
 </td><td class="border"> EMF </td><td class="border">
3.10.14, 7.4 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> High </td><td class="border"> Entity Graph for query and find operations. Though OpenJPA has extensive support for fetch plans, the EntityGraph specification uses a rather different (and perhaps incomplete) way to define these subgraphs. It will be some work to translate the specification's way of defining these subgraphs to equivalent OpenJPA constructs.
<br/><br/>The path navigation includes key field of a Map-type attribute. No equivalent exists in OpenJPA.
<br/><br/>javax.persistence.loadgraph is similar to named fetch group concept. 
 </td><td class="border"> Query </td><td class="border">
3.1.1, 3.2.7, 3.7, 7.4, 10.3, 12.2.3.17, 12.3 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> High </td><td class="border"> Support Schema Generation via Persistence bootstrap. Schema can be generated at startup both JSE and JEE environment. The schema can be generated both from entity mapping metadata and/or DDL scripts. A new set of properties javax.persistence.schema-generation.* can be passed via the Map argument while creating EntityManagerFactory.
<br/><br/>The support exists in OpenJPA, but not as extensive as per the specification. Moreover the specified javax.persistence.schema-generation.* actions are to be mapped to the existing SchemaTool features.
 </td><td class="border"> Tools </td><td class="border">
8.2.1, 8.2.1.19, 9.2.1, 9.4, 9.4.1, 9.5.1, 9.7, 11.1.6, 11.1.19, 11.1.20, 11.1.23, 11.1.26, 11.2 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> High </td><td class="border"> New mapping annotations @Index, @ForeignKey are supported. Synonymous annotations are defined in OpenJPA.
 </td><td class="border"> Query </td><td class="border">
2.13, 11.1.2, 11.1.8, 11.1.19, 11.1.23, 11.1.25, 11.1.26, 11.1.27, 11.1.35, 11.1.36, 11.1.44, 11.1.45, 11.2, 11.2.4 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> High </td><td class="border"> The version of persistence.xml is upgraded to 2.1. OpenJPA selects many default configurations based on the version of persistence.xml. These decisions points are to be checked for the new version.
 </td><td class="border"> Parser </td><td class="border">
8.3, 12.3 </td></tr>
<tr><td class="border"> <font color="red">Not Started</font> </td><td class="border"> <a href="https://issues.apache.org/jira/browse/OPENJPA-????">OPENJPA-????</a>
</td><td class="border"> High </td><td class="border"> Unwrap Cache, EntityManager etc. The EntityManager in the container had a derivation that supported unwrapping. That derivation may now be integrated with OpenJPA implementation. 
 </td><td class="border"> EM </td><td class="border">
3.1.1, 7.9.1, 7.10 </td></tr>
</table>

                                            </div>
                                        </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="bottom_red_bar"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="black_box">
                    <div class="footer">
                        <div class="footer_l">
                            <div class="footer_r">
                                <div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="design_attribution">
                Copyright &copy; 2006,2025 The Apache Software Foundation. Licensed under <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>.<br />
                Apache, the Apache feather logo and OpenJPA are trademarks of The Apache Software Foundation.<br />
                Other names may be trademarks of their respective owners.<br />
            </div>
    </body>
</html>