<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<html lang="en">
    <head>
        <META http-equiv="Content-Type" content="text/html;charset=UTF-8" />
        <link href="/styles/site.css" rel="stylesheet" type="text/css"/>
        <!-- <link href="/styles/type-settings.css" rel="stylesheet" type="text/css"/> -->
        <link href="/css/type-settings.css" rel="stylesheet" type="text/css"/>
        <LINK rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
        <META name="Description" content="Apache OpenJPA -- JEST Syntax" />
        <META name="Keywords" content="Apache OpenJPA, JPA, JPA 1.0, JSR-220, JPA2, JPA 2.0, JSR-317, " />
        <META name="Owner" content="dev@openjpa.apache.org" />
        <META name="Robots" content="index, follow" />
        <META name="Security" content="Public" />
        <META name="Source" content="wiki template" />
        <META name="DC.Date" scheme="iso8601" content="2010-08-11" />
        <META name="DC.Language" scheme="rfc1766" content="en" />
        <META name="DC.Rights" content="Copyright Â© 2006,2021 The Apache Software Foundation" />
        <META http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))'/>
	<style>
.headerlink {
  visibility: hidden;
}
dt:hover > .headerlink, p:hover > .headerlink, td:hover > .headerlink, h1:hover > .headerlink, h2:hover > .headerlink, h3:hover > .headerlink, h4:hover > .headerlink, h5:hover > .headerlink, h6:hover > .headerlink {
  visibility: visible
}	</style>
        <title>Apache OpenJPA -- JEST Syntax</title>
    </head>
    <body>
        <div class="white_box">
            <div class="header">
                <div class="header_l">
                    <div class="header_r">
                    </div>
                </div>
            </div>
            <div class="content">
                <div class="content_l">
                    <div class="content_r">
                        <div>
                            <!-- Banner -->
                            <TABLE valign="top" border="0" cellspacing="0" cellpadding="5" width="100%" background="images/header-bg3.png">
                                <TR>
                                    <TD valing="top" align="left">
                                        <A href="https://openjpa.apache.org/"><IMG src="/images/openjpa-logo.png" border="0" alt="OpenJPA Logo"></A>
                                    </TD>
                                    <TD width="100%">
                                        &nbsp;
                                    </TD>
                                    <TD valing="top" align="right">
                                        <A href="https://www.apache.org/"><IMG src="/images/asf_logo_wide2.png" border="0" alt="ASF Logo"></A>
                                    </TD>
                                </TR>
                            </TABLE>

                            <!-- Navigation Bar -->
                            <div class="bottom_red_bar">
                                <div id="site-breadcrumbs">
                                </div>
                            </div>

                            <!-- Content -->
                            <table border="0">
                                <tbody>
                                    <tr>
                                        <td valign="top">
                                            <div class="navigation">
                                                <div class="navigation_top">
                                                    <div class="navigation_bottom">
                                                        <!-- NavigationBar -->
                                                        <h3><a name="SideNav-Overview"></a><a href="/overview.html" title="Overview">Overview</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/quick-start.html" title="Quick Start">Quick Start</a></li>
                                                            <li><a href="/downloads.html" title="Downloads">Downloads</a></li>
                                                            <li><a href="/documentation.html" title="Documentation">Documentation</a></li>
                                                            <li><a href="/site-index.html" title="Site Index">Site Index</a></li>
                                                            <li><a href="/license.html" title="License">License</a></li>
                                                            <li><a href="/privacy-policy.html" title="Privacy Policy">Privacy Policy</a></li>
                                                        </ul>

                                                        <h3><a name="SideNav-Community"></a><a href="/community.html" title="Community">Community</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/index.html#Index-eventsandnews" title="Events and News">Events and News</a></li>
                                                            <li><a href="/found-a-bug.html" title="Found a Bug">Found a Bug</a>?</li>
                                                            <li><a href="/get-involved.html" title="Get Involved">Get Involved</a></li>
                                                            <li><a href="/mailing-lists.html" title="Mailing Lists">Mailing Lists</a></li>
                                                            <li><a href="/committers.html" title="Committers">Committers</a></li>
                                                            <li><a href="/integration.html" title="Integration">Integration</a></li>
                                                            <li><a href="/powered-by.html" title="Powered By">Powered By</a></li>
                                                            <li><a href="/thanks.html" title="Thanks">Thanks</a></li>
                                                        </ul>


                                                        <h3><a name="SideNav-Development"></a><a href="/development.html" title="Development">Development</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/downloads-nightly.html" title="Downloads">Nightly Downloads</a></li>                                        
                                                            <li><a href="/source-code.html" title="Source Code">Source Code</a></li>
                                                            <li><a href="/testing.html" title="Testing">Testing</a></li>
                                                            <li><a href="https://issues.apache.org/jira/browse/OPENJPA" class="external-link" rel="nofollow">Issue Tracker</a></li>
                                                            <li><a href="/tools.html" title="Tools">Tools</a></li>
                                                            <li><a href="/samples.html" title="Samples">Samples</a></li>
                                                            <li><a href="/release-management.html" title="Release Management">Release Management</a></li>
                                                        </ul>

                                                        <h3><a name="SideNav-Consumers"></a><a href="/consumers.html" title="Consumers">Consumers</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/tips-n-techniques.html" title="Tips and Techniques">Tips and Techniques</a></li>
                                                            <li><a href="/troubleshoot.html" title="Trouble Shoot">Trouble Shoot</a></li>
                                                        </ul>

                                                        <h3>Search</h3>

                                                        <div style="padding: 5px 5px 0px 25px;">
                                                            <form action="https://www.google.com/search" method="get" style="font-size: 10px;">
                                                                <input name="ie" type="hidden" value="UTF-8">
                                                                <input name="oe" type="hidden" value="UTF-8">
                                                                <input maxlength="255" name="q" size="15" type="text" value=""><br><br>
                                                                <input name="btnG" type="submit" value="Google">
                                                                <input name="domains" type="hidden" value="openjpa.apache.org">
                                                                <input name="sitesearch" type="hidden" value="openjpa.apache.org">
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td valign="top" width="100%" style="overflow:hidden;">
                                            <div class="wiki-content">
    <p><a name="JESTSyntax-JESTURISyntax"></a></p>
<h2 id="jest-uri-syntax">JEST URI Syntax<a class="headerlink" href="#jest-uri-syntax" title="Permalink">&para;</a></h2>
<p>JEST defines URI syntax to access persistent resources over HTTP.</p>
<p>As an example, to find a persistent Person instance with primary key 1234 and
receive the result in <em>JSON</em> format, an example URI would look like this (non functional URI):</p>
<p><a href="http://www.example.com:8080/jest/find/format=json?type=Person&amp;1234">http://www.example.com:8080/jest/find/format=json?type=Person&amp;1234</a></p>
<p>The formal notation of a JEST URI is</p>
<pre><code>  URI := http://{host}[:port]/{context}/{action}[/qualifier]* [?argument] [&amp;argument]*
</code></pre>
<p>The URI syntax rules, in the light of the above example, are as follows:</p>
<ul>
<li>
<p><em>protocol</em> is always <code>http</code></p>
</li>
<li>
<p><em>host</em> (<code>www.example.com</code>) and optional <em>port</em> number locates the
JEST servlet</p>
</li>
<li>
<p><em>context</em> (<code>jest</code>) identifies the context path of the JEST servlet.
The context path is the servlet name
as specified in the web deployment descriptor for JEST servlet</p>
</li>
<li>
<p><em>action</em> (<code>find</code>) is the first segment of the servlet path.
Allowed actions are <code>find</code>, <code>query</code>, <code>domain</code>, <code>properties</code>
etc.</p>
</li>
<li>
<p>zero or more <code>qualifier</code> may constitute the servlet path. Each
qualifier is separated by <code>/</code> character.</p>
</li>
<li>
<p>A qualifier must have a key and an optional value.</p>
</li>
<li>
<p>The qualifier key and value, if present, are separated by <code>=</code> sign.</p>
</li>
<li>
<p>A qualifier key is a valid Java identifier. The exact key is
conditional on the action. For example, <code>find</code> action
accepts <em>format</em> qualifier, <code>query</code> action accepts <code>single</code>,
<code>named</code>, <code>maxResult</code>, <code>firstResult</code>,
<code>format</code> as qualifiers.
In the example above, <code>format=json</code> qualifies that the response of
<code>find</code> action be formatted as JSON.</p>
</li>
<li>
<p>A qualifier may or may not have a value. For example, <code>maxResult</code>
qualifier for <code>query</code> action must have
an integer value while <code>single</code> qualifier does not.</p>
</li>
<li>
<p>zero or more <em>argument</em> may follow after the path by <code>?</code> character.</p>
</li>
<li>
<p>each <em>argument</em> is separated by <code>&amp;</code> character</p>
</li>
<li>
<p>An <em>argument</em> has an optional key and must have a value.</p>
</li>
<li>
<p>The <em>argument</em> key, if present, and value are separated by <code>=</code> sign.</p>
</li>
<li>
<p>some actions may enforce mandatory argument(s). For example, a <code>find</code>
action must have <code>type</code> argument
and at least one more argument for the primary key. A <code>query</code> action
must have <code>q</code> argument etc.</p>
</li>
</ul>
<p><a name="JESTSyntax-Listofsupportedactions,qualifiersandarguments"></a></p>
<h2 id="list-of-supported-actions-qualifiers-and-arguments">List of supported actions, qualifiers and arguments<a class="headerlink" href="#list-of-supported-actions-qualifiers-and-arguments" title="Permalink">&para;</a></h2>
<p>The following sections tabulates the currently supported actions and
corresponding qualifiers and arguments.
A <strong>bold font</strong> denotes qualifier or argument as mandatory.</p>
<p><a name="JESTSyntax-Action:find"></a></p>
<h3 id="action-find">Action: find<a class="headerlink" href="#action-find" title="Permalink">&para;</a></h3>
<p>Returns the result of a <em>find()</em> operation.</p>
<table>
<tr><th>qualifier-key </th><th> qualifier-value</th><th>	      Comment</th></tr>
<tr><td class="border">format 	 </td><td class="border"> <tt>xml</tt> or <tt>json</tt> </td><td class="border"> default is <tt>xml</tt></td></tr>
<tr><td class="border">plan		 </td><td class="border"> </td><td class="border"> name of one or more fetch
plan(s). Each name separated by comma character.</td></tr>
<tr><td class="border"> </td><td class="border"> </td><td class="border"> e.g.
<tt>find/plan=onlyBasicFields?type=Person&amp;1234</tt></td></tr>
<tr><td class="border"> </td><td class="border"> </td><td class="border"> where <tt>onlyBasicFields</tt> is
name of a pre-defined Fetch Group</td></tr>
</table>
<table>
<tr><th>argument-key	</th><th>argument-value       </th><th>     Comment </th></tr>
<tr><td class="border"><tt>type</tt> </td><td class="border">entity name	       </td><td class="border"> Fully-qualified Java class name or
alias of the entity </td></tr>
<tr><td class="border"> </td><td class="border">primary key value     </td><td class="border"> can be used for simple identity
without the id property name</td></tr>
<tr><td class="border"> </td><td class="border"> </td><td class="border"> e.g. <tt>/find?type=Person&amp;1234</tt></td></tr>
<tr><td class="border">id property	</td><td class="border">primary key value     </td><td class="border"> Used for compound primary keys</td></tr>
<tr><td class="border"> </td><td class="border"> </td><td class="border"> e.g.
<tt>/find?type=Person&amp;firstName=John&amp;lastName=Doe</tt></td></tr>
</table>
<p><a name="JESTSyntax-Action:query"></a></p>
<h3 id="action-query">Action : query<a class="headerlink" href="#action-query" title="Permalink">&para;</a></h3>
<p>Returns the result of a <code>Query.getResultList()</code> or
<code>Query.getSingleResult()</code> operation.</p>
<table>
<tr><th>qualifier-key </th><th> qualifier-value</th><th>	      Comment</th></tr>
<tr><td class="border">format 	</td><td class="border"> <tt>xml</tt> or <tt>json</tt> </td><td class="border"> default is <tt>xml</tt></td></tr>
<tr><td class="border">plan		</td><td class="border"> </td><td class="border"> name of one or more fetch plan(s). Each
name separated by comma character.</td></tr>
<tr><td class="border">single 	</td><td class="border"> </td><td class="border"> enforces single instance as query result
</td></tr>
<tr><td class="border"> </td><td class="border"> </td><td class="border"> e.g. {{/query/single?q=select p from
Person p where p.name=:x&amp;x=John}} </td></tr>
<tr><td class="border">named		</td><td class="border"> </td><td class="border"> interprets the q argument value as a
named query</td></tr>
<tr><td class="border"> </td><td class="border"> </td><td class="border"> e.g.
<tt>/query/named?q=PersonByName&amp;x=John</tt> </td></tr>
<tr><td class="border"> </td><td class="border"> </td><td class="border"> where <tt>PersonByName</tt> is named query
with <tt>x</tt> its named parameter</td></tr>
</table>
<table>
<tr><th>argument-key	</th><th>argument-value       </th><th>     Comment </th></tr>
<tr><td class="border"><tt>q</tt> </td><td class="border">JPQL or Named Query   </td><td class="border"> e.g. <tt>/query/named?q=AllPerson</tt></td></tr>
<tr><td class="border"> </td><td class="border"> </td><td class="border"> or {{/query?q=select p from Person
p}}</td></tr>
<tr><td class="border"> </td><td class="border"> </td><td class="border"> e.g. {{/query?q=select p from
Person p where p.firstName=:x&amp;x=John}}</td></tr>
<tr><td class="border">bind parameter </td><td class="border">parameter value       </td><td class="border"> the values are converted to match
the target type</td></tr>
<tr><td class="border"> </td><td class="border"> </td><td class="border"> e.g. {{/query?q=select p from
Person p where p.gender=:g&amp;g=MALE}}</td></tr>
</table>
<p><a name="JESTSyntax-Action:domain"></a></p>
<h3 id="action-domain">Action : domain<a class="headerlink" href="#action-domain" title="Permalink">&para;</a></h3>
<p>Returns the domain model in XML format.</p>
<p>Accepts no qualifier.
Accepts no argument.</p>
<p><a name="JESTSyntax-Action:properties"></a></p>
<h3 id="action-properties">Action : properties<a class="headerlink" href="#action-properties" title="Permalink">&para;</a></h3>
<p>Returns the configuration properties in HTML format.</p>
<p>Accepts no qualifier.
Accepts no argument.</p>
<p><a name="JESTSyntax-Formalsyntax:"></a></p>
<h3 id="formal-syntax">Formal syntax:<a class="headerlink" href="#formal-syntax" title="Permalink">&para;</a></h3>
<pre><code>URI := http://{host}[:port]/{context}/{action}[/qualifier]* [?argument][&amp;argument]*

context         := JEST servlet context root
action	        := find|query|domain|properties
qualifier       := qualifier-key[=qualifier-value]
argument        := [argument-key=] argument-value
qualifier-key   := any valid Java identifier 
qualifier-value := string
argument-key    := string 
argument-value  := string
</code></pre>

                                            </div>
                                        </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="bottom_red_bar"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="black_box">
                    <div class="footer">
                        <div class="footer_l">
                            <div class="footer_r">
                                <div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="design_attribution">
                Copyright &copy; 2006,2021 The Apache Software Foundation. Licensed under <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>.<br />
                Apache, the Apache feather logo and OpenJPA are trademarks of The Apache Software Foundation.<br />
                Other names may be trademarks of their respective owners.<br />
            </div>
    </body>
</html>