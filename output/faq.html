<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<html lang="en">
    <head>
        <META http-equiv="Content-Type" content="text/html;charset=UTF-8" />
        <link href="/styles/site.css" rel="stylesheet" type="text/css"/>
        <!-- <link href="/styles/type-settings.css" rel="stylesheet" type="text/css"/> -->
        <link href="/css/type-settings.css" rel="stylesheet" type="text/css"/>
        <LINK rel="schema.DC" href="http://purl.org/DC/elements/1.0/">
        <META name="Description" content="Apache OpenJPA -- FAQ" />
        <META name="Keywords" content="Apache OpenJPA, JPA, JPA 1.0, JSR-220, JPA2, JPA 2.0, JSR-317, " />
        <META name="Owner" content="dev@openjpa.apache.org" />
        <META name="Robots" content="index, follow" />
        <META name="Security" content="Public" />
        <META name="Source" content="wiki template" />
        <META name="DC.Date" scheme="iso8601" content="2010-08-11" />
        <META name="DC.Language" scheme="rfc1766" content="en" />
        <META name="DC.Rights" content="Copyright Â© 2006,2024 The Apache Software Foundation" />
        <META http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))'/>
	<style>
.headerlink {
  visibility: hidden;
}
dt:hover > .headerlink, p:hover > .headerlink, td:hover > .headerlink, h1:hover > .headerlink, h2:hover > .headerlink, h3:hover > .headerlink, h4:hover > .headerlink, h5:hover > .headerlink, h6:hover > .headerlink {
  visibility: visible
}	</style>
        <title>Apache OpenJPA -- FAQ</title>
    </head>
    <body>
        <div class="white_box">
            <div class="header">
                <div class="header_l">
                    <div class="header_r">
                    </div>
                </div>
            </div>
            <div class="content">
                <div class="content_l">
                    <div class="content_r">
                        <div>
                            <!-- Banner -->
                            <TABLE valign="top" border="0" cellspacing="0" cellpadding="5" width="100%" background="images/header-bg3.png">
                                <TR>
                                    <TD valing="top" align="left">
                                        <A href="https://openjpa.apache.org/"><IMG src="/images/openjpa-logo.png" border="0" alt="OpenJPA Logo"></A>
                                    </TD>
                                    <TD width="100%">
                                        &nbsp;
                                    </TD>
                                    <TD valing="top" align="right">
                                        <A href="https://www.apache.org/"><IMG src="/images/asf_logo_wide2.png" border="0" alt="ASF Logo"></A>
                                    </TD>
                                </TR>
                            </TABLE>

                            <!-- Navigation Bar -->
                            <div class="bottom_red_bar">
                                <div id="site-breadcrumbs">
                                </div>
                            </div>

                            <!-- Content -->
                            <table border="0">
                                <tbody>
                                    <tr>
                                        <td valign="top">
                                            <div class="navigation">
                                                <div class="navigation_top">
                                                    <div class="navigation_bottom">
                                                        <!-- NavigationBar -->
                                                        <h3><a name="SideNav-Overview"></a><a href="/overview.html" title="Overview">Overview</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/quick-start.html" title="Quick Start">Quick Start</a></li>
                                                            <li><a href="/downloads.html" title="Downloads">Downloads</a></li>
                                                            <li><a href="/documentation.html" title="Documentation">Documentation</a></li>
                                                            <li><a href="/site-index.html" title="Site Index">Site Index</a></li>
                                                            <li><a href="/license.html" title="License">License</a></li>
                                                            <li><a href="/privacy-policy.html" title="Privacy Policy">Privacy Policy</a></li>
                                                        </ul>

                                                        <h3><a name="SideNav-Community"></a><a href="/community.html" title="Community">Community</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/index.html#Index-eventsandnews" title="Events and News">Events and News</a></li>
                                                            <li><a href="/found-a-bug.html" title="Found a Bug">Found a Bug</a>?</li>
                                                            <li><a href="/get-involved.html" title="Get Involved">Get Involved</a></li>
                                                            <li><a href="/mailing-lists.html" title="Mailing Lists">Mailing Lists</a></li>
                                                            <li><a href="/committers.html" title="Committers">Committers</a></li>
                                                            <li><a href="/integration.html" title="Integration">Integration</a></li>
                                                            <li><a href="/powered-by.html" title="Powered By">Powered By</a></li>
                                                            <li><a href="/thanks.html" title="Thanks">Thanks</a></li>
                                                        </ul>


                                                        <h3><a name="SideNav-Development"></a><a href="/development.html" title="Development">Development</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/downloads-nightly.html" title="Downloads">Nightly Downloads</a></li>                                        
                                                            <li><a href="/source-code.html" title="Source Code">Source Code</a></li>
                                                            <li><a href="/testing.html" title="Testing">Testing</a></li>
                                                            <li><a href="https://issues.apache.org/jira/browse/OPENJPA" class="external-link" rel="nofollow">Issue Tracker</a></li>
                                                            <li><a href="/tools.html" title="Tools">Tools</a></li>
                                                            <li><a href="/samples.html" title="Samples">Samples</a></li>
                                                            <li><a href="/release-management.html" title="Release Management">Release Management</a></li>
                                                        </ul>

                                                        <h3><a name="SideNav-Consumers"></a><a href="/consumers.html" title="Consumers">Consumers</a></h3>

                                                        <ul class="alternate" type="square">
                                                            <li><a href="/tips-n-techniques.html" title="Tips and Techniques">Tips and Techniques</a></li>
                                                            <li><a href="/troubleshoot.html" title="Trouble Shoot">Trouble Shoot</a></li>
                                                        </ul>

                                                        <h3>Search</h3>

                                                        <div style="padding: 5px 5px 0px 25px;">
                                                            <form action="https://www.google.com/search" method="get" style="font-size: 10px;">
                                                                <input name="ie" type="hidden" value="UTF-8">
                                                                <input name="oe" type="hidden" value="UTF-8">
                                                                <input maxlength="255" name="q" size="15" type="text" value=""><br><br>
                                                                <input name="btnG" type="submit" value="Google">
                                                                <input name="domains" type="hidden" value="openjpa.apache.org">
                                                                <input name="sitesearch" type="hidden" value="openjpa.apache.org">
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td valign="top" width="100%" style="overflow:hidden;">
                                            <div class="wiki-content">
    <p><a name="FAQ-General"></a></p>
<h2 id="general">General<a class="headerlink" href="#general" title="Permalink">&para;</a></h2>
<ul>
<li><a href="#what">What is OpenJPA?</a></li>
<li><a href="#history">What is the history of OpenJPA?</a></li>
<li><a href="#kodo">What is the current relationship between Kodo and OpenJPA?</a></li>
<li><a href="#status">What is the current status of the project?</a></li>
<li><a href="#download">Where can I download OpenJPA?</a></li>
<li><a href="#server">Does OpenJPA work with my application server or container?</a></li>
<li><a href="#contribute">How can I contribute to OpenJPA?</a></li>
<li><a href="#pooling">How do I enable connection pooling in OpenJPA?</a></li>
<li><a href="#version">How do I figure out which version of OpenJPA I am running?</a></li>
<li><a href="#sql">How do I see the SQL that OpenJPA is executing?</a></li>
<li><a href="#reorder">Can OpenJPA reorder SQL statements to satisfy database foreign key constraints?</a></li>
<li><a href="#crosstable">Can OpenJPA map a one-sided one-many association without a cross table?</a></li>
</ul>
<p><a name="what"></a></p>
<h2 id="what-is-openjpa">What is OpenJPA?<a class="headerlink" href="#what-is-openjpa" title="Permalink">&para;</a></h2>
<p>OpenJPA is a 100% open-source implementation of the Java Persistence API
(JPA), which is the persistence component for EJB in the <a href="http://java.sun.com/javaee/">Java EE 5 specification</a>
.</p>
<p><a name="history"></a></p>
<h2 id="what-is-the-history-of-openjpa">What is the history of OpenJPA?<a class="headerlink" href="#what-is-the-history-of-openjpa" title="Permalink">&para;</a></h2>
<p>OpenJPA has its roots in the popular Kodo product, which was created by SolarMetric, Inc. in 2001. BEA Systems, Inc.
purchased SolarMetric in November of 2005, and soon thereafter announced that they would be donating the bulk of the code to the Apache Software Foundation. OpenJPA is the result of that donation.</p>
<p><a name="kodo"></a></p>
<h2 id="what-is-the-current-relationship-between-kodo-and-openjpa">What is the current relationship between Kodo and OpenJPA?<a class="headerlink" href="#what-is-the-current-relationship-between-kodo-and-openjpa" title="Permalink">&para;</a></h2>
<p>Version 4.1 of Kodo will be based on the OpenJPA code base.</p>
<p><a name="status"></a></p>
<h2 id="what-is-the-current-status-of-the-project">What is the current status of the project?<a class="headerlink" href="#what-is-the-current-status-of-the-project" title="Permalink">&para;</a></h2>
<p>OpenJPA is a top-level project at the Apache Software Foundation.</p>
<p><a name="download"></a></p>
<h2 id="where-can-i-download-openjpa">Where can I download OpenJPA?<a class="headerlink" href="#where-can-i-download-openjpa" title="Permalink">&para;</a></h2>
<p>Look at the <a href="downloads.html">Downloads</a> page.</p>
<p><a name="server"></a></p>
<h2 id="does-openjpa-work-with-my-application-server-or-container">Does OpenJPA work with my application server or container?<a class="headerlink" href="#does-openjpa-work-with-my-application-server-or-container" title="Permalink">&para;</a></h2>
<p>See <a href="integration.html">Integration</a>
.</p>
<p><a name="contribute"></a></p>
<h2 id="how-can-i-contribute-to-openjpa">How can I contribute to OpenJPA?<a class="headerlink" href="#how-can-i-contribute-to-openjpa" title="Permalink">&para;</a></h2>
<p>Check out the <a href="get-involved.html">Get Involved</a>
page.</p>
<p><a name="version"></a></p>
<h2 id="how-do-i-figure-out-which-version-of-openjpa-i-am-running">How do I figure out which version of OpenJPA I am running?<a class="headerlink" href="#how-do-i-figure-out-which-version-of-openjpa-i-am-running" title="Permalink">&para;</a></h2>
<p>You can get version number and other details of OpenJPA jar you are using
by:</p>
<p><a name="sql"></a></p>
<h2 id="how-do-i-see-the-sql-that-openjpa-is-executing">How do I see the SQL that OpenJPA is executing?<a class="headerlink" href="#how-do-i-see-the-sql-that-openjpa-is-executing" title="Permalink">&para;</a></h2>
<p>OpenJPA provides configurable channel-based logging, as described in the
chapter on <a href="/builds/latest/docs/manual/manual.html#ref_guide_logging">Logging</a>
. The simplest example of enabling verbose logging is by using the
following property in your {{persistence.xml}} file:</p>
<pre><code>&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    version="1.0"&gt;
    &lt;persistence-unit name="example-logging"
</code></pre>
<p>transaction-type="RESOURCE_LOCAL"&gt;
<properties>
<property name="openjpa.Log" value="SQL=TRACE"></property>
</properties>

</p>
<a name="pooling"></a>
## How do I enable connection pooling in OpenJPA?
<p>As of the 2.1.0 release, OpenJPA includes the <a href="http://jakarta.apache.org/commons/dbcp/">Apache DBCP</a>
connection pool. You can also use any third-party connection pool that is
configurable via the JDBC DataSource API (which most are). The following
<em>persistence.xml</em> example shows how to use OpenJPA with a [Apache Derby|http://db.apache.org/derby/]
database and the [Apache DBCP|http://jakarta.apache.org/commons/dbcp/]
connection pool:</p>
<pre><code>    &lt;persistence xmlns="http://java.sun.com/xml/ns/persistence"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        version="1.0"&gt;
        &lt;persistence-unit name="example-derby"
            transaction-type="RESOURCE_LOCAL"&gt;
    	&lt;properties&gt;
    	    &lt;property name="openjpa.ConnectionProperties" 
    		value="DriverClassName=org.apache.derby.jdbc.ClientDriver,
    		  Url=jdbc:derby://localhost:1527/database, 
    		  MaxActive=100, 
    		  MaxWait=10000, 
    		  TestOnBorrow=true, 
    		  Username=user, 
    		  Password=secret"/&gt;
    	    &lt;property name="openjpa.ConnectionDriverName" 
    		value="org.apache.commons.dbcp.BasicDataSource"/&gt;
    	&lt;/properties&gt;
        &lt;/persistence-unit&gt;
    &lt;/persistence&gt;
</code></pre>
<p>See the documentation on <a href="/builds/latest/docs/manual/manual.html#ref_guide_dbsetup_thirdparty">Using a Third-Party DataSource</a> for further details.</p>
<p><a name="reorder"></a></p>
<h2 id="can-openjpa-reorder-sql-statements-to-satisfy-database-foreign-key-constraints">Can OpenJPA reorder SQL statements to satisfy database foreign key constraints?<a class="headerlink" href="#can-openjpa-reorder-sql-statements-to-satisfy-database-foreign-key-constraints" title="Permalink">&para;</a></h2>
<p>Yes. OpenJPA can reorder and/or batch the SQL statements using different
configurable strategies. The default strategy is capable of reordering the
SQL statements to satisfy foreign key constraints. However ,you must tell
OpenJPA to read the existing foreign key information from the database
schema:</p>
<pre><code>  &lt;property name="openjpa.jdbc.SchemaFactory" value="native(ForeignKeys=true)"/&gt;
</code></pre>
<p>See the documentation on <a href="/builds/latest/docs/manual/manual.html#ref_guide_schema_info_list">Schema Factory</a> for further details.</p>
<p><a name="fk"></a></p>
<h2 id="why-openjpa-is-not-creating-foreign-key-constraints-on-the-database-tables">Why OpenJPA is not creating foreign key constraints on the database tables?<a class="headerlink" href="#why-openjpa-is-not-creating-foreign-key-constraints-on-the-database-tables" title="Permalink">&para;</a></h2>
<p>By default, OpenJPA does not create foreign key constraints on new tables
that gets created according to O-R mapping annotation/descriptors. You can
change this default behavior via following configuration property :</p>
<pre><code>  &lt;property name="openjpa.jdbc.MappingDefaults" \
           value="ForeignKeyDeleteAction=restrict,JoinForeignKeyDeleteAction=restrict"/&gt;
</code></pre>
<p>to create foreign key constraints on the database tables generated by OpenJPA.</p>
<p><a name="crosstable"></a></p>
<h2 id="can-openjpa-map-a-one-sided-one-many-association-without-a-cross-table">Can OpenJPA map a one-sided one-many association without a cross table?<a class="headerlink" href="#can-openjpa-map-a-one-sided-one-many-association-without-a-cross-table" title="Permalink">&para;</a></h2>
<p>Yes. Standard JPA specification use a cross table to map one-sided
one-to-many relation without a {{mappedBy}} inverse side. Often, you would
like to create a one-to-many association based on an inverse foreign key
(logical or actual) in the table of the related type. OpenJPA supports this
mapping via {{@ElementJoinColumn}} annotation. The following example will
map the collection of {{LineItem}} of a {{Subscription}} via a foreign key
of {{LINEITEM}} table referring to primary key of {{SUBSCRIPTION}} table.
{code:JAVA}
package org.mag.subscribe;</p>
<pre><code>import org.apache.openjpa.persistence.jdbc.*;

@Entity
public class LineItem {
    // has no inverse relation to Subscription
}

@Entity
@Table(name="SUB", schema="CNTRCT")
public class Subscription {
    @Id 
    private long id;

    @OneToMany
    @ElementJoinColumn(name="SUB_ID", referencedColumnName="ID")
    private Collection&lt;LineItem&gt; items;

    ...
}
</code></pre>

                                            </div>
                                        </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="bottom_red_bar"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="black_box">
                    <div class="footer">
                        <div class="footer_l">
                            <div class="footer_r">
                                <div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="design_attribution">
                Copyright &copy; 2006,2024 The Apache Software Foundation. Licensed under <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>.<br />
                Apache, the Apache feather logo and OpenJPA are trademarks of The Apache Software Foundation.<br />
                Other names may be trademarks of their respective owners.<br />
            </div>
    </body>
</html>